

# 无人机算法服务的启动与管理

## 启动环境配置

```
conda activate yolov5
```



## 切换到目标目录

```
cd /home/yolov5-7.0-2.0/modelv1/
```



## 添加可执行权限（如果没有）

```
chmod +x service.sh
```



## 启动服务

```
./service.sh start
```



## 停止服务
```
./service.sh stop
```



## 重启服务
```
./service.sh restart
```



## 查看服务状态
```
./service.sh status
```



## 查看实时日志（Ctrl+C 退出）
```
./service.sh log
```



## 查看最近100行日志
```
./service.sh tail
```



## 查看最近50行日志
```
./service.sh tail 50
```



## 清理日志文件
```
./service.sh clean
```



# 帮助
```
./service.sh help
```



````
## 效果示例

**启动服务：**
```
========================================
  启动 uav-detection 服务
========================================
[INFO] 文件描述符限制: 65535
[INFO] Python 路径: /root/miniconda3/envs/yolov5/bin/python
[INFO] 启动服务...
[INFO] 等待服务启动...
[INFO] 服务启动成功！

  PID:      12345
  端口:     8000
  日志:     /home/yolov5-7.0-2.0/modelv1/logs/uav-detection.log
  工作目录: /home/yolov5-7.0-2.0/modelv1

  查看日志: ./service.sh log
```

**查看状态：**
```
========================================
  uav-detection 服务状态
========================================

  状态:     运行中
  PID:      12345
  CPU:      2.5%
  内存:     15.3%
  运行时间: 01:23:45
  端口:     8000 (监听中)
  日志:     /home/.../logs/uav-detection.log

最近日志:
----------------------------------------
✅ 服务就绪
   可用模型: 24 个
🚀 gRPC 服务已启动，监听端口 8000
----------------------------------------
````

